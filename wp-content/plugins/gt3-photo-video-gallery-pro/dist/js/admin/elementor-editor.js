!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=535)}({12:function(t,e,n){var o,i,r={},a=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=o.apply(this,arguments)),i}),s=function(t,e){return e?e.querySelector(t):document.querySelector(t)},l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=s.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),c=null,d=0,u=[],h=n(39);function p(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(y(o.parts[a],e))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(y(o.parts[a],e));r[o.id]={id:o.id,refs:1,parts:s}}}}function g(t,e){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],a=e.base?r[0]+e.base:r[0],s={css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(t.insertAt.before,n);n.insertBefore(e,i)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function v(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return n.nc}();o&&(t.attrs.nonce=o)}return _(e,t.attrs),m(t,e),e}function _(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function y(t,e){var n,o,i,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var a=d++;n=c||(c=v(e)),o=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",_(e,t.attrs),m(t,e),e}(e),o=k.bind(null,n,e),i=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),o=C.bind(null,n),i=function(){f(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=a()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=g(t,e);return p(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}t&&p(g(t,e),e);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function C(t,e){var n=e.css,o=e.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function k(t,e,n){var o=n.css,i=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(o=h(o)),i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([o],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},39:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,r=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},488:function(t,e){Backbone.ModalView=Marionette.ItemView.extend({name:"ModalView",modalBlanket:null,modalContainer:null,defaultOptions:{fadeInDuration:150,fadeOutDuration:150,showCloseButton:!0,bodyOverflowHidden:!1,setFocusOnFirstFormControl:!0,targetContainer:document.body,slideFromAbove:!1,slideFromBelow:!1,slideDistance:150,closeImageUrl:"close-modal.png",closeImageHoverUrl:"close-modal-hover.png",showModalAtScrollPosition:!0,permanentlyVisible:!1,backgroundClickClosesModal:!0,pressingEscapeClosesModal:!0,css:{border:"2px solid #111","background-color":"#fff","-webkit-box-shadow":"0px 0px 15px 4px rgba(0, 0, 0, 0.5)","-moz-box-shadow":"0px 0px 15px 4px rgba(0, 0, 0, 0.5)","box-shadow":"0px 0px 15px 4px rgba(0, 0, 0, 0.5)","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"}},initialize:function(){},events:{},showModalBlanket:function(){return this.ensureModalBlanket().fadeIn(this.options.fadeInDuration)},hideModalBlanket:function(){return this.modalBlanket.fadeOut(this.options.fadeOutDuration)},ensureModalContainer:function(t){return null!=t&&null!=this.modalContainer&&(this.modalContainer.remove(),this.modalContainer=null),null==this.modalContainer&&(this.modalContainer=$("<div id='modalContainer'>").css({"z-index":"99",position:"relative","-webkit-border-radius":"6px","-moz-border-radius":"6px","border-radius":"6px"}).appendTo(t)),this.modalContainer},ensureModalBlanket:function(){return this.modalBlanket=$("#modal-blanket"),0==this.modalBlanket.length?this.modalBlanket=$("<div id='modal-blanket'>").css({position:"absolute",top:0,left:0,height:$(document).height(),width:"100%",opacity:.5,backgroundColor:"#000","z-index":49}).appendTo(document.body).hide():this.modalBlanket.css({height:$(document).height(),width:"100%"}),this.modalBlanket},keyup:function(t){27==t.keyCode&&this.options.pressingEscapeClosesModal&&this.hideModal()},click:function(t){"modal-blanket"==t.target.id&&this.options.backgroundClickClosesModal&&this.hideModal()},setFocusOnFirstFormControl:function(){var t=$("input, select, email, url, number, range, date, month, week, time, datetime, datetime-local, search, color",$(this.el));t.length>0&&$(t[0]).focus()},hideModal:function(){this.trigger("closeModalWindow"),this.hideModalBlanket(),$(document.body).unbind("keyup",this.keyup),this.modalBlanket.unbind("click",this.click),!0===this.options.bodyOverflowHidden&&$(document.body).css("overflow",this.originalBodyOverflowValue);var t=this.modalContainer;$(this.modalContainer).fadeOut(this.options.fadeOutDuration,(function(){t.remove()}))},getCoordinate:function(t,e){if(void 0!==e[t]){var n=e[t];return delete e[t],n}},recenter:function(){return this.recentre()},recentre:function(){var t=$(this.el),e=(this.getCoordinate("top",this.options.css),this.getCoordinate("left",this.options.css),this.getCoordinate("right",this.options.css),this.getCoordinate("bottom",this.options.css),this.getOffsets()),n=$(window).height()/2,o=$(window).width()/2,i=this.modalContainer,r=n-t.outerHeight()/2;i.css({top:r+e.y+"px"});var a=o-t.outerWidth()/2;return i.css({left:a+e.x+"px"}),this},getOffsets:function(){var t=0,e=0;return this.options.showModalAtScrollPosition&&(t=$(document).scrollTop(),e=$(document).scrollLeft()),{x:e,y:t}},showModal:function(t){this.defaultOptions.targetContainer=document.body,this.options=$.extend(!0,{},this.defaultOptions,t,this.options),this.options.permanentlyVisible&&(this.options.showCloseButton=!1,this.options.backgroundClickClosesModal=!1,this.options.pressingEscapeClosesModal=!1);var e=$(this.el),n=$(window).height()/2,o=$(window).width()/2,i=this.ensureModalContainer(this.options.targetContainer).empty();e.addClass("modal");var r={top:this.getCoordinate("top",this.options.css),left:this.getCoordinate("left",this.options.css),right:this.getCoordinate("right",this.options.css),bottom:this.getCoordinate("bottom",this.options.css),isEmpty:function(){return null==this.top&&null==this.left&&null==this.right&&null==this.bottom}};e.css(this.options.css),this.showModalBlanket(),this.keyup=_.bind(this.keyup,this),this.click=_.bind(this.click,this),$(document.body).keyup(this.keyup),this.modalBlanket.click(this.click),!0===this.options.bodyOverflowHidden&&(this.originalBodyOverflowValue=$(document.body).css("overflow"),$(document.body).css("overflow","hidden")),i.append(e),i.css({opacity:0,position:"absolute","z-index":100});var a=this.getOffsets();if(r.isEmpty()){var s=n-e.outerHeight()/2;s<10&&(s=10),void 0!==this.options.y?s=this.options.y:s+=a.y,i.css({top:s+"px"});var l=o-e.outerWidth()/2;void 0!==this.options.x?l=this.options.x:l+=a.x,i.css({left:l+"px"})}else null!=r.top&&i.css({top:r.top+a.y}),null!=r.left&&i.css({left:r.left+a.x}),null!=r.right&&i.css({right:r.right}),null!=r.bottom&&i.css({bottom:r.bottom});if(this.options.setFocusOnFirstFormControl&&this.setFocusOnFirstFormControl(),this.options.showCloseButton){var c=this;$("<a href='#' id='modalCloseButton'>&#160;</a>").css({position:"absolute",top:"-10px",right:"-10px",width:"32px",height:"32px",background:"transparent url("+c.options.closeImageUrl+") top left no-repeat","text-decoration":"none"}).appendTo(this.modalContainer).hover((function(){$(this).css("background-image","url("+c.options.closeImageHoverUrl+") !important")}),(function(){$(this).css("background-image","url("+c.options.closeImageUrl+") !important")})).click((function(t){t.preventDefault(),c.hideModal()}))}var d={opacity:1},u=i.offset();return this.options.slideFromAbove&&(i.css({top:u.top-this.options.slideDistance+"px"}),d.top=r.top),this.options.slideFromBelow&&(i.css({top:u.top+this.options.slideDistance+"px"}),d.top=r.top),this.modalContainer.animate(d,this.options.fadeInDuration),this}})},489:function(t,e){window.GT3=window.GT3||{},window.GT3.Editor=window.GT3.Editor||{},window.GT3.Editor.Controls=window.GT3.Editor.Controls||{}},490:function(t,e,n){var o,i;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r){"use strict";void 0===(i="function"==typeof(o=r)?o.call(e,n,e,t):o)||(t.exports=i)}((function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var t,e,n,o,i,a,s,l,c,d,u,h,p,g,m,f,v,_,y,b,w,x={},C=/\s+/g,k=/left|right|inline/,D="Sortable"+(new Date).getTime(),T=window,S=T.document,O=T.parseInt,E=T.setTimeout,M=T.jQuery||T.Zepto,I=T.Polymer,j=!1,P="draggable"in S.createElement("div"),B=!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&((w=S.createElement("x")).style.cssText="pointer-events:auto","auto"===w.style.pointerEvents),N=!1,V=Math.abs,R=Math.min,L=[],A=[],U=function(){return!1},$=rt((function(t,e,n){if(n&&e.scroll){var o,i,r,a,s,u,h=n[D],p=e.scrollSensitivity,g=e.scrollSpeed,m=t.clientX,f=t.clientY,v=window.innerWidth,_=window.innerHeight;if(c!==n&&(l=e.scroll,c=n,d=e.scrollFn,!0===l)){l=n;do{if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight)break}while(l=l.parentNode)}l&&(o=l,i=l.getBoundingClientRect(),r=(V(i.right-m)<=p)-(V(i.left-m)<=p),a=(V(i.bottom-f)<=p)-(V(i.top-f)<=p)),r||a||(a=(_-f<=p)-(f<=p),((r=(v-m<=p)-(m<=p))||a)&&(o=T)),x.vx===r&&x.vy===a&&x.el===o||(x.el=o,x.vx=r,x.vy=a,clearInterval(x.pid),o&&(x.pid=setInterval((function(){u=a?a*g:0,s=r?r*g:0,"function"==typeof d&&"continue"!==d.call(h,s,u,t,y,o)||(o===T?T.scrollTo(T.pageXOffset+s,T.pageYOffset+u):(o.scrollTop+=u,o.scrollLeft+=s))}),24)))}}),30),z=function(t){function e(t,e){return null!=t&&!0!==t||null!=(t=n.name)?"function"==typeof t?t:function(n,o){var i=o.options.group.name;return e?t:t&&(t.join?t.indexOf(i)>-1:i==t)}:U}var n={},o=t.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){j={capture:!1,passive:!1}}}))}catch(t){}function F(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=at({},e),t[D]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==F.supportPointer};for(var o in n)!(o in e)&&(e[o]=n[o]);for(var i in z(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&P,X(t,"mousedown",this._onTapStart),X(t,"touchstart",this._onTapStart),e.supportPointer&&X(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(X(t,"dragover",this),X(t,"dragenter",this)),A.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function H(e,n){"clone"!==e.lastPullMode&&(n=!0),o&&o.state!==n&&(J(o,"display",n?"none":""),n||o.state&&(e.options.group.revertClone?(i.insertBefore(o,a),e._animate(t,o)):i.insertBefore(o,t)),o.state=n)}function Y(t,e,n){if(t){n=n||S;do{if(">*"===e&&t.parentNode===n||it(t,e))return t}while(t=q(t))}return null}function q(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function X(t,e,n){t.addEventListener(e,n,j)}function G(t,e,n){t.removeEventListener(e,n,j)}function W(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(C," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(C," ")}}function J(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return S.defaultView&&S.defaultView.getComputedStyle?n=S.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function Q(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function K(t,e,n,i,r,a,s,l,c){t=t||e[D];var d=S.createEvent("Event"),u=t.options,h="on"+n.charAt(0).toUpperCase()+n.substr(1);d.initEvent(n,!0,!0),d.to=r||e,d.from=a||e,d.item=i||e,d.clone=o,d.oldIndex=s,d.newIndex=l,d.originalEvent=c,e.dispatchEvent(d),u[h]&&u[h].call(t,d)}function Z(t,e,n,o,i,r,a,s){var l,c,d=t[D],u=d.options.onMove;return(l=S.createEvent("Event")).initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=i||e,l.relatedRect=r||e.getBoundingClientRect(),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),u&&(c=u.call(d,l,a)),c}function tt(t){t.draggable=!1}function et(){N=!1}function nt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function ot(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!it(t,e)||n++;return n}function it(t,e){if(t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e)}catch(t){return!1}return!1}function rt(t,e){var n,o;return function(){void 0===n&&(n=arguments,o=this,E((function(){1===n.length?t.call(o,n[0]):t.apply(o,n),n=void 0}),e))}}function at(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function st(t){return I&&I.dom?I.dom(t).cloneNode(!0):M?M(t).clone(!0)[0]:t.cloneNode(!0)}function lt(t){return E(t,0)}function ct(t){return clearTimeout(t)}return F.prototype={constructor:F,_onTapStart:function(e){var n,o=this,i=this.el,r=this.options,a=r.preventOnFilter,l=e.type,c=e.touches&&e.touches[0],d=(c||e).target,u=e.target.shadowRoot&&e.path&&e.path[0]||d,h=r.filter;if(function(t){L.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var o=e[n];o.checked&&L.push(o)}}(i),!t&&!(/mousedown|pointerdown/.test(l)&&0!==e.button||r.disabled)&&!u.isContentEditable&&(d=Y(d,r.draggable,i))&&s!==d){if(n=ot(d,r.draggable),"function"==typeof h){if(h.call(this,e,d,this))return K(o,u,"filter",d,i,i,n),void(a&&e.preventDefault())}else if(h&&(h=h.split(",").some((function(t){if(t=Y(u,t.trim(),i))return K(o,t,"filter",d,i,i,n),!0}))))return void(a&&e.preventDefault());r.handle&&!Y(u,r.handle,i)||this._prepareDragStart(e,c,d,n)}},_prepareDragStart:function(n,o,r,l){var c,d=this,u=d.el,h=d.options,p=u.ownerDocument;r&&!t&&r.parentNode===u&&(_=n,i=u,e=(t=r).parentNode,a=t.nextSibling,s=r,f=h.group,g=l,this._lastX=(o||n).clientX,this._lastY=(o||n).clientY,t.style["will-change"]="all",c=function(){d._disableDelayedDrag(),t.draggable=d.nativeDraggable,W(t,h.chosenClass,!0),d._triggerDragStart(n,o),K(d,i,"choose",t,i,i,g)},h.ignore.split(",").forEach((function(e){Q(t,e.trim(),tt)})),X(p,"mouseup",d._onDrop),X(p,"touchend",d._onDrop),X(p,"touchcancel",d._onDrop),X(p,"selectstart",d),h.supportPointer&&X(p,"pointercancel",d._onDrop),h.delay?(X(p,"mouseup",d._disableDelayedDrag),X(p,"touchend",d._disableDelayedDrag),X(p,"touchcancel",d._disableDelayedDrag),X(p,"mousemove",d._disableDelayedDrag),X(p,"touchmove",d._disableDelayedDrag),h.supportPointer&&X(p,"pointermove",d._disableDelayedDrag),d._dragStartTimer=E(c,h.delay)):c())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),G(t,"mouseup",this._disableDelayedDrag),G(t,"touchend",this._disableDelayedDrag),G(t,"touchcancel",this._disableDelayedDrag),G(t,"mousemove",this._disableDelayedDrag),G(t,"touchmove",this._disableDelayedDrag),G(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,n){(n=n||("touch"==e.pointerType?e:null))?(_={target:t,clientX:n.clientX,clientY:n.clientY},this._onDragStart(_,"touch")):this.nativeDraggable?(X(t,"dragend",this),X(i,"dragstart",this._onDragStart)):this._onDragStart(_,!0);try{S.selection?lt((function(){S.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){if(i&&t){var e=this.options;W(t,e.ghostClass,!0),W(t,e.dragClass,!1),F.active=this,K(this,i,"start",t,i,i,g)}else this._nulling()},_emulateDragOver:function(){if(y){if(this._lastX===y.clientX&&this._lastY===y.clientY)return;this._lastX=y.clientX,this._lastY=y.clientY,B||J(n,"display","none");var t=S.elementFromPoint(y.clientX,y.clientY),e=t,o=A.length;if(t&&t.shadowRoot&&(e=t=t.shadowRoot.elementFromPoint(y.clientX,y.clientY)),e)do{if(e[D]){for(;o--;)A[o]({clientX:y.clientX,clientY:y.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);B||J(n,"display","")}},_onTouchMove:function(t){if(_){var e=this.options,o=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,a=r.clientX-_.clientX+i.x,s=r.clientY-_.clientY+i.y,l=t.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!F.active){if(o&&R(V(r.clientX-this._lastX),V(r.clientY-this._lastY))<o)return;this._dragStarted()}this._appendGhost(),b=!0,y=r,J(n,"webkitTransform",l),J(n,"mozTransform",l),J(n,"msTransform",l),J(n,"transform",l),t.preventDefault()}},_appendGhost:function(){if(!n){var e,o=t.getBoundingClientRect(),r=J(t),a=this.options;W(n=t.cloneNode(!0),a.ghostClass,!1),W(n,a.fallbackClass,!0),W(n,a.dragClass,!0),J(n,"top",o.top-O(r.marginTop,10)),J(n,"left",o.left-O(r.marginLeft,10)),J(n,"width",o.width),J(n,"height",o.height),J(n,"opacity","0.8"),J(n,"position","fixed"),J(n,"zIndex","100000"),J(n,"pointerEvents","none"),a.fallbackOnBody&&S.body.appendChild(n)||i.appendChild(n),e=n.getBoundingClientRect(),J(n,"width",2*o.width-e.width),J(n,"height",2*o.height-e.height)}},_onDragStart:function(e,n){var r=this,a=e.dataTransfer,s=r.options;r._offUpEvents(),f.checkPull(r,r,t,e)&&((o=st(t)).draggable=!1,o.style["will-change"]="",J(o,"display","none"),W(o,r.options.chosenClass,!1),r._cloneId=lt((function(){i.insertBefore(o,t),K(r,i,"clone",t)}))),W(t,s.dragClass,!0),n?("touch"===n?(X(S,"touchmove",r._onTouchMove),X(S,"touchend",r._onDrop),X(S,"touchcancel",r._onDrop),s.supportPointer&&(X(S,"pointermove",r._onTouchMove),X(S,"pointerup",r._onDrop))):(X(S,"mousemove",r._onTouchMove),X(S,"mouseup",r._onDrop)),r._loopId=setInterval(r._emulateDragOver,50)):(a&&(a.effectAllowed="move",s.setData&&s.setData.call(r,a,t)),X(S,"drop",r),r._dragStartId=lt(r._dragStarted))},_onDragOver:function(r){var s,l,c,d,g=this.el,m=this.options,_=m.group,y=F.active,w=f===_,x=!1,C=m.sort;if(void 0!==r.preventDefault&&(r.preventDefault(),!m.dragoverBubble&&r.stopPropagation()),!t.animated&&(b=!0,y&&!m.disabled&&(w?C||(d=!i.contains(t)):v===this||(y.lastPullMode=f.checkPull(this,y,t,r))&&_.checkPut(this,y,t,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if($(r,m,this.el),N)return;if(s=Y(r.target,m.draggable,g),l=t.getBoundingClientRect(),v!==this&&(v=this,x=!0),d)return H(y,!0),e=i,void(o||a?i.insertBefore(t,o||a):C||i.appendChild(t));if(0===g.children.length||g.children[0]===n||g===r.target&&function(t,e){var n=t.lastElementChild.getBoundingClientRect();return e.clientY-(n.top+n.height)>5||e.clientX-(n.left+n.width)>5}(g,r)){if(0!==g.children.length&&g.children[0]!==n&&g===r.target&&(s=g.lastElementChild),s){if(s.animated)return;c=s.getBoundingClientRect()}H(y,w),!1!==Z(i,g,t,l,s,c,r)&&(t.contains(g)||(g.appendChild(t),e=g),this._animate(l,t),s&&this._animate(c,s))}else if(s&&!s.animated&&s!==t&&void 0!==s.parentNode[D]){u!==s&&(u=s,h=J(s),p=J(s.parentNode));var T=(c=s.getBoundingClientRect()).right-c.left,S=c.bottom-c.top,O=k.test(h.cssFloat+h.display)||"flex"==p.display&&0===p["flex-direction"].indexOf("row"),M=s.offsetWidth>t.offsetWidth,I=s.offsetHeight>t.offsetHeight,j=(O?(r.clientX-c.left)/T:(r.clientY-c.top)/S)>.5,P=s.nextElementSibling,B=!1;if(O){var V=t.offsetTop,R=s.offsetTop;B=V===R?s.previousElementSibling===t&&!M||j&&M:s.previousElementSibling===t||t.previousElementSibling===s?(r.clientY-c.top)/S>.5:R>V}else x||(B=P!==t&&!I||j&&I);var L=Z(i,g,t,l,s,c,r,B);!1!==L&&(1!==L&&-1!==L||(B=1===L),N=!0,E(et,30),H(y,w),t.contains(g)||(B&&!P?g.appendChild(t):s.parentNode.insertBefore(t,B?P:s)),e=t.parentNode,this._animate(l,t),this._animate(c,s))}}},_animate:function(t,e){var n=this.options.animation;if(n){var o=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),J(e,"transition","none"),J(e,"transform","translate3d("+(t.left-o.left)+"px,"+(t.top-o.top)+"px,0)"),e.offsetWidth,J(e,"transition","all "+n+"ms"),J(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=E((function(){J(e,"transition",""),J(e,"transform",""),e.animated=!1}),n)}},_offUpEvents:function(){var t=this.el.ownerDocument;G(S,"touchmove",this._onTouchMove),G(S,"pointermove",this._onTouchMove),G(t,"mouseup",this._onDrop),G(t,"touchend",this._onDrop),G(t,"pointerup",this._onDrop),G(t,"touchcancel",this._onDrop),G(t,"pointercancel",this._onDrop),G(t,"selectstart",this)},_onDrop:function(r){var s=this.el,l=this.options;clearInterval(this._loopId),clearInterval(x.pid),clearTimeout(this._dragStartTimer),ct(this._cloneId),ct(this._dragStartId),G(S,"mouseover",this),G(S,"mousemove",this._onTouchMove),this.nativeDraggable&&(G(S,"drop",this),G(s,"dragstart",this._onDragStart)),this._offUpEvents(),r&&(b&&(r.preventDefault(),!l.dropBubble&&r.stopPropagation()),n&&n.parentNode&&n.parentNode.removeChild(n),i!==e&&"clone"===F.active.lastPullMode||o&&o.parentNode&&o.parentNode.removeChild(o),t&&(this.nativeDraggable&&G(t,"dragend",this),tt(t),t.style["will-change"]="",W(t,this.options.ghostClass,!1),W(t,this.options.chosenClass,!1),K(this,i,"unchoose",t,e,i,g,null,r),i!==e?(m=ot(t,l.draggable))>=0&&(K(null,e,"add",t,e,i,g,m,r),K(this,i,"remove",t,e,i,g,m,r),K(null,e,"sort",t,e,i,g,m,r),K(this,i,"sort",t,e,i,g,m,r)):t.nextSibling!==a&&(m=ot(t,l.draggable))>=0&&(K(this,i,"update",t,e,i,g,m,r),K(this,i,"sort",t,e,i,g,m,r)),F.active&&(null!=m&&-1!==m||(m=g),K(this,i,"end",t,e,i,g,m,r),this.save()))),this._nulling()},_nulling:function(){i=t=e=n=a=o=s=l=c=_=y=b=m=u=h=v=f=F.active=null,L.forEach((function(t){t.checked=!0})),L.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":t&&(this._onDragOver(e),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.preventDefault()}(e));break;case"mouseover":this._onDrop(e);break;case"selectstart":e.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)Y(t=n[o],r.draggable,this.el)&&e.push(t.getAttribute(r.dataIdAttr)||nt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,o){var i=n.children[o];Y(i,this.options.draggable,n)&&(e[t]=i)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return Y(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&z(n)},destroy:function(){var t=this.el;t[D]=null,G(t,"mousedown",this._onTapStart),G(t,"touchstart",this._onTapStart),G(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(G(t,"dragover",this),G(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),A.splice(A.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},X(S,"touchmove",(function(t){F.active&&t.preventDefault()})),F.utils={on:X,off:G,css:J,find:Q,is:function(t,e){return!!Y(t,e,t)},extend:at,throttle:rt,closest:Y,toggleClass:W,clone:st,index:ot,nextTick:lt,cancelNextTick:ct},F.create=function(t,e){return new F(t,e)},F.version="1.7.0",F}))},491:function(t,e,n){var o=n(492);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(12)(o,i);o.locals&&(t.exports=o.locals)},492:function(t,e,n){},493:function(t,e){var n=jQuery,o=elementor.modules.controls.BaseMultiple.extend({ui:{postsPerPageControl:'[data-setting="posts_per_page"]',ignoreStickyPostsControl:'[data-setting="ignore_sticky_posts"]',ignoreStickyPostsControlWrapper:".ignore_sticky_posts-wrapper",orderByControl:'[data-setting="orderby"]',orderControl:'[data-setting="order"]',taxonomyControl:'[data-setting="taxonomy"]',tagsControl:'[data-setting="tags"]',authorControl:'[data-setting="author__in"]',postControl:'[data-setting="post__in"]',selectedPost__in:".selected_post__in"},events:function(){return{"change @ui.postsPerPageControl":"onChange","change @ui.ignoreStickyPostsControl":"onChange","change @ui.orderByControl":"onChange","change @ui.orderControl":"onChange","change @ui.taxonomyControl":"onChange","change @ui.tagsControl":"onChange","change @ui.authorControl":"onChange","change @ui.postControl":"onChange"}},onReady:function(){this.settings=Object.assign({post_tag:"post_tag",post_taxonomy:"category",post_type:"post",showCategory:!1,showPost:!1,showTag:!1,showUser:!1},this.model.get("settings")),this.baseurl=window.location.href.substring(0,window.location.href.indexOf("/wp-admin")),this.initTaxonomy(),this.initUser(),this.initPost(),"post"===this.settings.post_type?this.ui.ignoreStickyPostsControl.prop("checked","1"===this.getControlValue("ignore_sticky_posts")):this.ui.ignoreStickyPostsControlWrapper.hide(),this.getControlValue("post__in").length?this.ui.selectedPost__in.hide():this.ui.selectedPost__in.show()},initTaxonomy:function(){if(this.settings.showCategory){var t=this,e=t.getControlValue("taxonomy")||[];n.ajax({url:ajaxurl,method:"POST",data:{action:"gt3pg_pro_ajax_query",gt3_action:"get-taxonomy",taxonomy:this.settings.post_taxonomy,include:e}}).done((function(n){e=n.map((function(t){return t.value})),t.ui.taxonomyControl.select2&&t.ui.taxonomyControl.select2({value:e,data:n.map((function(t){return{id:t.value,text:t.label,selected:-1!==e.indexOf(t.value.toString())}})),multiple:!0,cache:!0,ajax:{url:ajaxurl,method:"POST",dataType:"json",delay:250,cache:!0,data:function(e){return Object.assign({action:"gt3pg_pro_ajax_query",gt3_action:"get-taxonomy",select2:!0,taxonomy:t.settings.post_taxonomy,exclude:t.getControlValue("taxonomy"),hide_empty:!0},e)},processResults:function(t){return{results:t.map((function(t){return{id:t.value,text:t.label}}))}}},minimumInputLength:1})}))}},initTag:function(){if(this.settings.showTag){var t=this,e=t.getControlValue("tags")||[];n.ajax({url:ajaxurl,method:"POST",data:{action:"gt3pg_pro_ajax_query",gt3_action:"get-taxonomy",taxonomy:this.settings.post_tag,include:e}}).done((function(n){t.ui.tagsControl.select2&&t.ui.tagsControl.select2({value:e,data:n.map((function(t){return{id:t.value,text:t.label,selected:-1!==e.indexOf(t.value.toString())}})),multiple:!0,cache:!0,ajax:{url:ajaxurl,method:"POST",dataType:"json",delay:250,cache:!0,data:function(e){return Object.assign({action:"gt3pg_pro_ajax_query",gt3_action:"get-taxonomy",select2:!0,taxonomy:t.settings.post_tag,exclude:t.getControlValue("tags"),hide_empty:!0},e)},processResults:function(t){return{results:t.map((function(t){return{id:t.value,text:t.label}}))}}},minimumInputLength:1})}))}},initUser:function(){if(this.settings.showUser){var t=this,e=t.getControlValue("author__in")||[];n.ajax({url:ajaxurl,method:"POST",data:{action:"gt3pg_pro_ajax_query",gt3_action:"get-user",post_type:this.settings.post_type,include:e}}).done((function(n){t.ui.authorControl.select2&&t.ui.authorControl.select2({value:e,data:n.map((function(t){return{id:t.value,text:t.label,selected:-1!==e.indexOf(t.value.toString())}})),multiple:!0,cache:!0,ajax:{url:ajaxurl,method:"POST",dataType:"json",delay:250,cache:!0,data:function(e){return Object.assign({action:"gt3pg_pro_ajax_query",gt3_action:"get-user",select2:!0,post_type:t.settings.post_type,exclude:t.getControlValue("author__in")},e)},processResults:function(t){return{results:t.map((function(t){return{id:t.value,text:t.label}}))}}},minimumInputLength:1})}))}},initPost:function(){if(this.settings.showPost){var t=this,e=t.getControlValue("post__in")||[];n.ajax({url:ajaxurl,method:"POST",data:{action:"gt3pg_pro_ajax_query",gt3_action:"get-post",post_type:this.settings.post_type,include:e}}).done((function(n){t.ui.postControl.select2&&t.ui.postControl.select2({value:e,data:n.map((function(t){return{id:t.value,text:t.label,selected:-1!==e.indexOf(t.value.toString())}})),multiple:!0,cache:!0,ajax:{url:ajaxurl,method:"POST",dataType:"json",delay:250,cache:!0,data:function(e){return Object.assign({action:"gt3pg_pro_ajax_query",gt3_action:"get-post",select2:!0,post_type:t.settings.post_type,exclude:t.getControlValue("post__in")},e)},processResults:function(t){return{results:t.map((function(t){return{id:t.value,text:t.label}}))}}},minimumInputLength:1})}))}},onChange:function(t){var e=t.currentTarget,o=e.getAttribute("data-setting"),i={},r=n(e).val();-1!==["taxonomy","tags","author__in","post__in"].indexOf(o.toString())?r=r||[]:"ignore_sticky_posts"===o&&(r=e.checked?"1":"0",this.ui.ignoreStickyPostsControl.prop("checked","1"===r)),i[o]=r,this.setValue(i),this.getControlValue("post__in").length?this.ui.selectedPost__in.hide():this.ui.selectedPost__in.show()}});elementor.addControlView("gt3pg_pro-query",o)},494:function(t,e){function n(t,e,n,o,i,r,a){try{var s=t[r](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,i)}window.elementor&&elementor.hooks&&elementor.hooks.addFilter&&elementor.hooks.addFilter("element/view",(function(t,e,o){var i,r,a=t,s=e.get("widgetType"),l=e.get("settings");switch(s){case"gt3pg-instagram":a=t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments),this.getUserIDbyName=this.getUserIDbyName.bind(this);var e=this.getEditModel();this.listenTo(e.get("settings"),"change",this.onSettings__Changed)},usernameTimer:null,getUserIDbyName:(i=regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.instagram.com/".concat(e,"/?__a=1")).then((function(t){return t.json()})).catch((function(){return!1}));case 2:if(n=t.sent){t.next=6;break}return l.setExternalChange({userID:""}),t.abrupt("return");case 6:o=n.graphql.user.id,l.setExternalChange({userID:o});case 8:case"end":return t.stop()}}),t)})),r=function(){var t=this,e=arguments;return new Promise((function(o,r){var a=i.apply(t,e);function s(t){n(a,o,r,s,l,"next",t)}function l(t){n(a,o,r,s,l,"throw",t)}s(void 0)}))},function(t){return r.apply(this,arguments)}),onSettings__Changed:function(t){if(t.changed&&t.changed.hasOwnProperty("userName")){clearTimeout(this.usernameTimer);var e=t.changed.userName.trim();e?this.usernameTimer=setTimeout(this.getUserIDbyName,800,e):l.setExternalChange({userName:"",userID:""})}}})}return a}))},495:function(t,e){jQuery("body").on("click","#gt3pg-open-video-media",(function(t){var e;t.preventDefault();var n=jQuery("input#gt3pg-open-video-media");e&&e.open(),(e=wp.media({title:"Select Media",multiple:!1,library:{type:"video"}})).on("close",(function(){var t=e.state().get("selection"),o=0,i="";t.each((function(t){i=t.attributes.url,o=t.attributes.id})),""!==i&&(jQuery("#attachments-"+n.data("post_id")+"-gt3-video-url").attr("value",i).trigger("change"),n.data("gt3pg_video_id",o))})),e.on("open",(function(){var t=e.state().get("selection"),o=n.data("gt3pg_video_id"),i=wp.media.attachment(o);i.fetch(),t.add(i?[i]:[])})),e.open()}))},496:function(t,e){function n(t,e,n,o,i,r,a){try{var s=t[r](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(o,i)}elementor.hooks.addFilter("element/view",(function(t,e,o){var i,r,a=t,s=e.get("widgetType"),l=e.get("settings"),c=l.toJSON();if(s&&s.indexOf&&-1!==s.indexOf("gt3pg")){var d={select_source:"source",slides:"ids"},u={};a=t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments),Object.keys(d).forEach((function(t){l.unset(t),c[t]&&(u[d[t]]=c[t])})),l.setExternalChange(u)}})}switch(s){case"gt3pg-instagram":a=t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments),this.getUserIDbyName=this.getUserIDbyName.bind(this);var e=this.getEditModel();this.listenTo(e.get("settings"),"change",this.onSettings__Changed)},usernameTimer:null,getUserIDbyName:(i=regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.instagram.com/".concat(e,"/?__a=1")).then((function(t){return t.json()})).catch((function(){return!1}));case 2:if(n=t.sent){t.next=6;break}return l.setExternalChange({userID:""}),t.abrupt("return");case 6:o=n.graphql.user.id,l.setExternalChange({userID:o});case 8:case"end":return t.stop()}}),t)})),r=function(){var t=this,e=arguments;return new Promise((function(o,r){var a=i.apply(t,e);function s(t){n(a,o,r,s,l,"next",t)}function l(t){n(a,o,r,s,l,"throw",t)}s(void 0)}))},function(t){return r.apply(this,arguments)}),onSettings__Changed:function(t){if(t.changed&&t.changed.hasOwnProperty("userName")){clearTimeout(this.usernameTimer);var e=t.changed.userName.trim();e?this.usernameTimer=setTimeout(this.getUserIDbyName,800,e):l.setExternalChange({userName:"",userID:""})}}})}return a}))},497:function(t,e,n){var o=n(498);"string"==typeof o&&(o=[[t.i,o,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(12)(o,i);o.locals&&(t.exports=o.locals)},498:function(t,e,n){},535:function(t,e,n){"use strict";n.r(e);n(488),n(489),n(490),n(491);var o=Backbone.Model.extend({defaults:{id:0,videoLink:{url:"",id:0,video_type:"hosted",hosted_id:0,hosted_url:"",youtube_url:"",vimeo_url:""},externalLink:{url:"",target:""}},initialize:function(t){this.set({videoLink:Object.assign({},this.defaults.videoLink,t.videoLink||{}),externalLink:Object.assign({},this.defaults.externalLink,t.externalLink||{})})}}),i=wp.i18n,r=i.__,a=(i._n,i.sprintf,Backbone.Model.extend({defaults:{maxFiles:0,ids:[],forceDelete:!1,length:0,showStatus:!0,value:{}},initialize:function(t){var e=t.onChange;t.withVideo,t.withLink;this.onChange=e,this.set("items",new wp.media.model.Attachments),this.set("ids",_.collect(this.get("value"),"id")),_.bindAll(this,"countItems"),this.listenTo(this.get("items"),"add remove reset change",this.countItems)},countItems:function(t){var e=this.get("items"),n=e.length,o=this.get("maxFiles");this.set("length",n),this.set("full",o>0&&n>=o),this.set("ids",e.collect("id")),!this.starting&&this.saveMedia(),this.trigger("render")},isEmpty:function(){return!this.get("length")},load:function(){var t=this;this.starting=!0;var e=this.get("ids"),n=this.get("value"),i=wp.media.query({post__in:e.length?this.get("ids"):[0],orderby:"post__in",order:"ASC",type:["image/gif","image/jpg","image/jpeg","image/png"],perPage:-1});i.more().done((function(){t.trigger("loaded"),i.models.forEach((function(t){t.value=_.findWhere(n,{id:t.get("id")})||{},t.localModel=new o(t.value)})),t.get("items").reset(i.models),t.starting=!1}))},removeItem:function(t){this.get("items").remove(t)},addItems:function(t){this.get("items").add(t)},clearItems:function(){var t=this,e=elementorCommon.dialogsManager.createWidget("confirm",{headerMessage:r("Do you really want to remove all images?","gt3pg_pro"),strings:{confirm:_("Yes","gt3pg_pro"),cancel:_("Cancel","gt3pg_pro")},defaultOption:"confirm",onConfirm:function(){t.get("items").reset()}});e.show()},saveMedia:function(){this.trigger("save")}})),s=Backbone.View.extend({name:"ImageModalView",template:_.template('\n<div class="header-wrapper">\n\t<div class="image-wrapper">\n\t\t<img src="<%= _imgSrc %>" alt="" class="thumbnail">\n\t</div>\n\t<div class="caption-wrapper">\n\t\t<div class="caption"></div>\n\t</div>\n</div>\n<div class="elementor-control elementor-control-video_type elementor-control-type-select elementor-label-inline elementor-control-separator-default">\n\t<div class="elementor-control-content">\n\t\t<div class="elementor-control-field">\n\t\t\t<label for="elementor-control-default-video_type-<%=_cid%>" class="elementor-control-title">Source</label>\n\t\t\t<div class="elementor-control-input-wrapper">\n\t\t\t\t<select id="elementor-control-default-video_type-<%=_cid%>" name="video_type">\n\t\t\t\t\t<option value="hosted" <%= video_type == \'hosted\' ? \'selected\' : \'\' %>>Self Hosted</option>\n\t\t\t\t\t<option value="youtube" <%= video_type == \'youtube\' ? \'selected\' : \'\' %>>YouTube</option>\n\t\t\t\t\t<option value="vimeo" <%= video_type == \'vimeo\' ? \'selected\' : \'\' %>>Vimeo</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="elementor-control elementor-control-conditions elementor-control-youtube_url elementor-control-type-text elementor-label-block elementor-control-separator-default">\n\t<div class="elementor-control-content">\n\t\t<div class="elementor-control-field">\n\t\t\t<label for="elementor-control-default-youtube_url-<%=_cid%>" class="elementor-control-title">YouTube ID</label>\n\t\t\t<div class="elementor-control-input-wrapper">\n\t\t\t\t<input id="elementor-control-default-youtube_url-<%=_cid%>" \n\t\t\t\t    class="tooltip-target elementor-control-tag-area"\n\t\t\t\t    type="text"  data-setting="youtube_url" placeholder="Enter your URL (YouTube)"\n\t\t\t\t    name="youtube_url" value="<%=youtube_url%>">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="elementor-control elementor-control-conditions elementor-control-vimeo_url elementor-control-type-text elementor-label-block elementor-control-separator-default">\n\t<div class="elementor-control-content">\n\t\t<div class="elementor-control-field">\n\t\t\t<label for="elementor-control-default-vimeo_url-<%=_cid%>" class="elementor-control-title">Vimeo ID</label>\n\t\t\t<div class="elementor-control-input-wrapper">\n\t\t\t\t<input id="elementor-control-default-vimeo_url-<%=_cid%>" \n\t\t\t\t    class="tooltip-target elementor-control-tag-area"\n\t\t\t\t    type="text"  data-setting="vimeo_url" placeholder="Enter your URL (Vimeo)"\n\t\t\t\t    name="vimeo_url" value="<%=vimeo_url%>">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class="elementor-control elementor-control-conditions elementor-control-hosted_url elementor-control-type-media elementor-label-block elementor-control-separator-default">\n\t<div class="elementor-control-content">\n\t\t<div class="elementor-control-field elementor-control-media">\n\t\t\t<label class="elementor-control-title" for="elementor-control-default-hosted_url-<%=_cid%>">Choose File</label>\n\t\t<div class="elementor-control-input-wrapper elementor-aspect-ratio-219 open-media">\n\t\t\t<div class="elementor-control-media__content elementor-control-tag-area elementor-control-preview-area elementor-fit-aspect-ratio">\n\t\t\t\t<div class="elementor-control-media-upload-button elementor-fit-aspect-ratio">\n\t\t\t\t\t<i class="eicon-plus-circle" aria-hidden="true"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-control-media-area elementor-fit-aspect-ratio">\n\t\t\t\t\t<div class="remove-video elementor-control-media__remove" title="Remove">\n\t\t\t\t\t\t<i class="eicon-trash"></i>\n\t\t\t\t\t</div>\n\t\t\t\t\t<video class="elementor-control-media-video" preload="metadata" src="<%=hosted_url%>" nocontols></video>\n\t\t\t\t\t<i class="eicon-video-camera"></i>\n\t\t\t\t</div>\n\t\t\t\t<div class="elementor-control-media__tools">\n\t\t\t\t\t<div class="elementor-control-media__tool elementor-control-media__replace">Choose Video</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<input id="elementor-control-default-hosted_url-<%=_cid%>" \n\t\t\t\t    class="tooltip-target elementor-control-tag-area"\n\t\t\t\t    type="hidden"  data-setting="hosted_url" placeholder="Enter your URL (hosted)"\n\t\t\t\t    name="hosted_url" value="<%=hosted_url%>">\n\t\t\t\t<input type="hidden" class="video-id" name="hosted_id" value="<%=hosted_id%>">\n\t\t\t\t\n\t\t<input type="hidden" data-setting="hosted_url">\n\t\t</div>\n\t</div>\n</div>\t\t\t\n'),tagName:"form",className:"gt3pg_pro-popup-video-settings",ui:{img_Thumbnail:"img.thumbnail",video_type:'[name="video_type"]',vimeo_url:'[name="vimeo_url"]',youtube_url:'[name="youtube_url"]',hosted_url:'[name="hosted_url"]',hosted_id:'[name="hosted_id"]',button_OpenMedia:".open-media",video:"video",remove_video:".remove-video",video_wrapper:".elementor-control-hosted_url"},_ui:{img_Thumbnail:"img.thumbnail",video_type:'[name="video_type"]',vimeo_url:'[name="vimeo_url"]',youtube_url:'[name="youtube_url"]',hosted_url:'[name="hosted_url"]',hosted_id:'[name="hosted_id"]',button_OpenMedia:".open-media",video:"video",remove_video:".remove-video",video_wrapper:".elementor-control-hosted_url"},vimeo_parser:function(t){var e=t.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]{8})/);return!(!e||!e[5])&&e[5]},youtube_parser:function(t){var e=t.match(/^(https?:\/\/)?((www\.)?(youtube(-nocookie)?|youtube.googleapis)\.com.*(v\/|v=|vi=|vi\/|e\/|embed\/|user\/.*\/u\/\d+\/)|youtu\.be\/)([_0-9a-z-]{11})/i);return!(!e||!e[7])&&e[7]},initialize:function(t){var e=t.model,n=t.onConfirm;this.model=e,this.onConfirm=n,this.image_frame=null,this.id="modal-id-".concat(e.cid),_.bindAll(this,"render","onVideoType__Change","openMedia__Handler","change_VideoUrl__Handler","Save__Handler","remove_video__Handler","youtube_url_Handler","vimeo_url_Handler"),this.listenTo(this.model,"change",this.render),this.render()},serializeData:function(){var t=this.model.localModel.toJSON(),e=(t=this.model.toJSON()).src;return e="image"===t.type&&t.sizes?t.sizes.thumbnail?t.sizes.thumbnail.url:t.sizes.full.url:t.image&&t.image.src&&t.image.src!==t.icon?t.image.src:t.icon,Object.assign({_cid:this.cid,_imgSrc:e},this.model.localModel.toJSON().videoLink)},onRender:function(){},openMedia__Handler:function(t){var e=this;t&&t.preventDefault&&t.preventDefault(),this.image_frame||(this.image_frame=wp.media({title:"Select Media",multiple:!1,library:{type:["video/mp4","video/webm","video/ogg","video/ogv","video/quicktime"]}}),this.image_frame.on("select",(function(){var t=e.image_frame.state().get("selection"),n=0,o="";t.each((function(t){o=t.attributes.url,n=t.attributes.id})),""!==o&&(e.ui.hosted_url.val(o),e.ui.hosted_id.val(n),e.ui.video.attr("src",o),e.ui.video_wrapper.toggleClass("has-value",!!e.ui.hosted_url.val()))})),this.image_frame.on("open",(function(){var t=e.image_frame.state().get("selection"),n=wp.media.attachment(e.ui.hosted_id.val()||"");n.fetch(),t.add(n?[n]:[])}))),this.image_frame.open()},Save__Handler:function(t){t&&t.preventDefault&&t.preventDefault(),this.model.localModel.set({videoLink:this.serializeFormObject()}),this.onConfirm()},show:function(){this.getDialog().show(),this.render()},change_VideoUrl__Handler:function(){this.ui.hosted_id.val("0")},getDialog:function(){return this.removeDialog||(this.removeDialog=elementorCommon.dialogsManager.createWidget("confirm",{message:this.el,headerMessage:"Video Settings",strings:{confirm:"Save",cancel:"Cancel"},defaultOption:"confirm",onConfirm:this.Save__Handler.bind(this),hide:{onClick:!1,onOutsideClick:!1,onOutsideContextMenu:!1,onBackgroundClick:!0,onEscKeyPress:!0,ignore:""}})),this.removeDialog},render:function(){var t=this;this.$el.html(this.template(this.serializeData())),this.$el.off(),Object.keys(this.ui).forEach((function(e){"string"==typeof t._ui[e]&&(t.ui[e]=jQuery(t._ui[e],t.$el))})),this.ui.video_type.on("change",this.onVideoType__Change),this.ui.button_OpenMedia.on("click",this.openMedia__Handler),this.ui.hosted_url.on("change",this.change_VideoUrl__Handler),this.ui.remove_video.on("click",this.remove_video__Handler),this.ui.youtube_url.on("keyup paste",this.youtube_url_Handler),this.ui.vimeo_url.on("keyup paste",this.vimeo_url_Handler),this.onVideoType__Change(),this.ui.video_wrapper.toggleClass("has-value",!!this.ui.hosted_url.val()),this.onRender()},youtube_url_Handler:function(t){var e=this.ui.youtube_url.val();"paste"===t.type&&(e=(t.clipboardData||window.clipboardData||t.originalEvent&&t.originalEvent.clipboardData).getData("Text"));(e=this.youtube_parser(e))&&(t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),this.ui.youtube_url.val(e))},vimeo_url_Handler:function(t){var e=this.ui.vimeo_url.val();"paste"===t.type&&(e=(t.clipboardData||window.clipboardData||t.originalEvent&&t.originalEvent.clipboardData).getData("Text"));(e=this.vimeo_parser(e))&&(t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),this.ui.vimeo_url.val(e))},onVideoType__Change:function(t){this.$el.attr("data-video-type",this.ui.video_type.val()),t&&t.preventDefault&&t.preventDefault()},remove_video__Handler:function(t){t&&t.preventDefault&&t.preventDefault(),t&&t.stopPropagation&&t.stopPropagation(),this.ui.hosted_url.val(""),this.ui.hosted_id.val("0"),this.ui.video.attr("src",""),this.ui.video_wrapper.toggleClass("has-value",!!this.ui.hosted_url.val())},serializeFormObject:function(){var t=this.$el.serializeArray(),e={};return jQuery.each(t,(function(){!function t(e,n,o){var i=/^[^\[\]]+\[]/.test(n),r=/^[^\[\]]+\[[^\[\]]+]/.test(n),a=n.replace(/\[.*/,"");if(i)e[a]||(e[a]=[]);else{if(!r)return void(e.push?e.push(o):e[a]=o);e[a]||(e[a]={})}var s=n.match(/\[[^\[\]]*]/g);return s[0]=s[0].replace(/\[|]/g,""),t(e[a],s.join(""),o)}(e,this.name,this.value)})),e}}),l=wp.i18n,c=l.__,d=(l._n,l.sprintf,Backbone.View.extend({tagName:"div",className:"gt3-image-item",modal:void 0,initialize:function(t){var e=t.controller;this.render=this.render.bind(this),this.controller=e,this.render(),this.listenTo(this.model,"change",this.render),this.$el.data("id",this.model.cid)},onReady:function(){this.removeItem=this.removeItem.bind(this),this.contextModal=this.contextModal.bind(this),this.editFrame=this.editFrame.bind(this)},events:function(){return{"click .gt3-remove-media":"removeItem","click .gt3-edit-media":"editFrame","click .gt3-options-media":"contextModal"}},removeItem:function(t){return t.preventDefault(),t.stopPropagation(),this.controller.removeItem(this.model),!1},contextModal:function(t){var e=this;t.preventDefault(),t.stopPropagation(),this.modal||(this.modal=new s({model:this.model,onConfirm:function(){e.controller.saveMedia()},of:this.el})),this.modal.show()},editFrame:function(t){return this._frame&&this._frame.dispose(),this._frame=wp.media({frame:"edit-attachments",controller:{gridRouter:new wp.media.view.MediaFrame.Manage.Router},library:this.controller.get("items"),model:this.model}),this._frame.resetRoute=function(){},this._frame.open(),!1},render:function(){var t=Object.assign({},this.model.attributes),e=t.icon;return e="image"===t.type&&t.sizes?t.sizes.thumbnail?t.sizes.thumbnail.url:t.sizes.full.url:t.image&&t.image.src&&t.image.src!==t.icon?t.image.src:t.icon,this.$el.html('\n\t\t<div class="gt3-media-preview" data-id="'.concat(t.id,'" style="background-image: url(').concat(e,')"></div>\n\t\t<div class="gt3-overlay"></div>\n\t\t<div class="gt3-media-bar">\n\t\t\t<a class="gt3-edit-media" title="').concat(c("Edit","gt3pg_pro"),'" href="').concat(t.editLink,'" target="_blank"></a>\n\t\t\t<a href="#" class="gt3-options-media" title="').concat(c("Video","gt3pg_pro"),'"></a>\n\t\t\t<a href="#" class="gt3-remove-media" title="').concat(c("Remove","gt3pg_pro"),'"></a>\n\t\t</div>')),this}})),u=wp.i18n,h=(u.__,u._n,u.sprintf,Backbone.View.extend({initialize:function(t){this._views={},this.controller=t.controller,this.setEvents(),this.render=this.render.bind(this),this.render()},setEvents:function(){this.listenTo(this.controller,"render",this.render)},saveValue:function(){this.controller.saveToInput()},initSortable:function(){var t=this.controller.get("items");this.$el.sortable({tolerance:"pointer",handle:".gt3-overlay",start:function(t,e){e.item.data("sortableIndexStart",e.item.index())},update:function(e,n){var o=t.at(n.item.data("sortableIndexStart"));t.remove(o,{silent:!0}),t.add(o,{silent:!0,at:n.item.index()}),t.trigger("reset",t),this.controller.saveMedia()}.bind(this)})},render:function(){var t,e=this,n=this.controller.get("items"),o=[];n&&n.length&&n.forEach((function(n,i){t=e._views[n.cid]=new d({model:n,controller:e.controller}),o.push(t.$el)})),this.$el.empty().append(o),this.initSortable()}})),p=wp.i18n,g=(p.__,p._n),m=p.sprintf,f=Backbone.View.extend({loading:!0,disableLoading:function(){this.loading=!1,this.$el.removeClass("align-center"),this.render()},initialize:function(t){var e=t.controller;this.controller=e,this.listenTo(this.controller,"loaded",this.disableLoading),this.controller.get("showStatus")||this.$el.hide(),this.listenTo(this.controller,"change:length",this.render),this.render()},render:function(){var t=this.controller.get("length"),e=this.loading?'<span class="spinner"></span>':m(g("%s image selected","%s images selected",t,"gt3pg_pro"),t);return this.$el.html(e),this}}),v=wp.i18n,y=(v.__,v._n,v.sprintf,Backbone.View.extend({events:{click:function(){this.controller.clearItems()}},initialize:function(t){var e=t.controller;this.controller=e,_.bindAll(this,"checkEnable"),this.listenTo(this.controller,"render",this.checkEnable),this.render()},checkEnable:function(){this.$el.toggleClass("disabled",this.controller.isEmpty())}})),b=wp.i18n,w=b.__,x=(b._n,b.sprintf,Backbone.View.extend({events:{click:function(){this._frame&&this._frame.dispose();var t=this,e=wp.media.controller.Library.extend({defaults:_.defaults({query:!0,id:"insert-image",title:w("Select Files","gt3pg_pro"),multiple:"add",library:wp.media.query({post__not_in:this.controller.get("ids"),type:["image/gif","image/jpg","image/jpeg","image/png"]}),type:["image/gif","image/jpg","image/jpeg","image/png"]},wp.media.controller.Library.prototype.defaults)});this._frame=wp.media({button:{text:w("Select","gt3pg_pro")},state:"insert-image",states:[new e]}),this._frame.on("select",(function(){var e=t._frame.state().get("selection").models.filter((function(t){return t.get("sizes")})).map((function(t){return t.localModel=new o({id:t.get("id")}),t.value=t.localModel.toJSON(),t}));t.controller.addItems(e)}),this),this._frame.on("open",(function(){var e=null;t._frame.on("library:selection:add",function n(){var o=t._frame.state(),i=o.get("library"),r=o.get("selection");r&&r.models&&(_.some(r.models,(function(t){return!0===t.get("uploading")}))?(clearTimeout(e),e=setTimeout(n.bind(this),100)):i.add(r.models))}.bind(this))})),this._frame.open()}},initialize:function(t){var e=t.controller;this.controller=e,this.listenTo(this.controller,"change:full",(function(){this.$el.toggle(!this.controller.get("full"))})),this.render()}})),C=wp.i18n,k=(C.__,C._n,C.sprintf,elementor.modules.controls.BaseData),D=k.extend({onReady:function(){_.bindAll(this,"onChange"),this.$el.toggleClass("withVideo",this.model.get("withCustomVideoLink"));var t=this.getControlValueArray();this.controller=new a({value:t,onChange:this.onChange}),this.list=new h({controller:this.controller,el:this.ui.galleryThumbnails}),this.status=new f({controller:this.controller,el:this.ui.status}),this.ClearButton=new y({controller:this.controller,el:this.ui.clearGallery}),this.MediaButton=new x({controller:this.controller,el:this.ui.addImages}),this.controller.load(),this.controller.on("save",this.onChange)},onChange:function(){var t=_.collect(this.controller.get("items").toArray(),"localModel");this.setValue(JSON.stringify(t))},getControlValueArray:function(){var t=this.getControlValue();try{"number"==typeof(t=JSON.parse(t))&&(t=t.toString())}catch(t){}if("string"==typeof t){var e=t.split(",");t=1===e.length&&e[0]===t?[{id:Number.parseInt(t)}]:e.map((function(t){return{id:Number.parseInt(t)}}))}return t},getItemsIds:function(){return _.collect(this.getControlValueArray(),"id")},ui:function(){return _.extend(k.prototype.ui.apply(this,arguments),{addImages:".gt3-control-gallery-add",clearGallery:".gt3-control-gallery-clear",galleryThumbnails:".gt3-control-gallery-thumbnails",status:".gt3-control-gallery-status-title"})},events:function(){return _.extend(k.prototype.events.apply(this,arguments),{"click @ui.addImages":"onAddImagesClick","click @ui.clearGallery":"onClearGalleryClick","click @ui.galleryThumbnails":"onGalleryThumbnailsClick"})},applySavedValue:function(){}});elementor.addControlView("gt3pg-pro--gallery",D);n(493),n(494),n(495),n(496),n(497)}});